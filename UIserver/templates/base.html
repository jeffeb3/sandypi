<!DOCTYPE html>
<html lang="en">
<head>
    <title>{% block title %}{%endblock%}</title>
    <!--TODO insert the font on a local path to make the app independent from internet-->
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <link rel="stylesheet" href="{{url_for('static', filename='css/base_style.css')}}">
    
    <script src="{{url_for('static', filename='js/node_modules/dropzone/dist/min/dropzone.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/node_modules/jQuery/dist/jquery.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/node_modules/sortablejs/Sortable.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/node_modules/socket.io-client/dist/socket.io.js')}}"></script>
    
    <script src="{{url_for('static', filename='js/base.js')}}"></script>
    {% if is_linux %} 
    <script src="{{url_for('static', filename='js/linux_only.js')}}"></script>
    {%endif%}
    <script src="{{url_for('static', filename='js/node_modules/bootstrap/dist/js/bootstrap.min.js')}}"></script>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    {% block head %}{%endblock%}
</head>
<body class="bg-dark d-flex flex-column min-vh-100">
    <!-- popup container: this is shown over the entire page-->
    <div class="modal fade bd-example-modal-lg" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div id="modal_container" class="modal-content">
            </div>
        </div>
    </div>

    <header>
        <div class="navbar navbar-primary bg-primary">
            <div class="container d-flex justify-content-between">
                <div class="navbar-brand d-flex text-dark clickable rounded hover-light p-2 hover-zoom">
                    <div onclick="home()"><span class="h1">Sandypi</span></div>
                </div>
                <div class="d-flex align-item-center special-hide">
                    <div id="nav_bot_status"></div><!-- will be filled by js if the bot is doing a drawing-->
                    <div class="align-item-center">
                        <button 
                            type="submit" 
                            class="btn-dark"
                            onclick="location.href = '/manual_control';">
                                Manual control
                        </button>
                        {% if is_linux %}
                        <div class="btn-group">
                            <button type="button" class="btn btn-dark mr-0" onclick="location.href = '/settings';">Settings</button>
                            <button type="button" class="btn btn-dark dropdown-toggle dropdown-toggle-split ml-0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" onclick="confirm_shutdown()">Shutdown raspberry</a>
                                <a class="dropdown-item" onclick="confirm_reboot()">Reboot raspberry</a>
                            </div>
                        </div>
                        {% else %}
                        <button type="button" class="btn btn-dark" onclick="location.href = '/settings';">Settings</button>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main role="main" class="text-primary flex-grow-1 align-items-stretch d-flex">
        <div class="container pt-2 zindex-background">
            {% block body %}{%endblock%}
        </div>
    </main>

    <footer class="text-muted bg-primary p-2">
        <div class="container">
            <div class="text-dark">
                <span>
                    Copyright &#169; 2020
                </span>
                <div class="float-right">
                    For more detail visit the project homepage on <a href="https://github.com/texx00/sandypi" target="_blank">GitHub</a>
                </div>
            </div>
        </div>
    </footer>
    <div class="toast_container_position">
        <div id="toasts_container" aria-live="polite" aria-atomic="true" class="position-relative float-right min-vh-20">
        </div>
    </div>
</body>
</html>